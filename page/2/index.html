<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>所有不能打倒我的，都将使我更强大！</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="这是mu_lou_mu_di的博客">
<meta property="og:type" content="website">
<meta property="og:title" content="所有不能打倒我的，都将使我更强大！">
<meta property="og:url" content="http://example.com/page/2/index.html">
<meta property="og:site_name" content="所有不能打倒我的，都将使我更强大！">
<meta property="og:description" content="这是mu_lou_mu_di的博客">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="mu_lou_mu_di">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="所有不能打倒我的，都将使我更强大！" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.2.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">所有不能打倒我的，都将使我更强大！</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-JS获取视频长度" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/12/05/JS%E8%8E%B7%E5%8F%96%E8%A7%86%E9%A2%91%E9%95%BF%E5%BA%A6/" class="article-date">
  <time datetime="2020-12-05T14:06:01.691Z" itemprop="datePublished">2020-12-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/12/05/JS%E8%8E%B7%E5%8F%96%E8%A7%86%E9%A2%91%E9%95%BF%E5%BA%A6/">获取音视频文件的长度</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="通过-JS-获取视频的长度"><a href="#通过-JS-获取视频的长度" class="headerlink" title="通过 JS 获取视频的长度"></a>通过 JS 获取视频的长度</h1><p>对于这个问题我采用的是 duration 属性来获取音视频文件的长度</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;van-uploader</span><br><span class="line">  accept=<span class="string">&quot;.mp4&quot;</span></span><br><span class="line">  :max-count=<span class="string">&quot;1&quot;</span></span><br><span class="line">  :after-read=<span class="string">&quot;afterRead&quot;</span></span><br><span class="line">&gt;</span><br><span class="line">&lt;/van-uploader&gt;</span><br></pre></td></tr></table></figure>

<p>注:因为项目需要使用 vue 的 UI 库 vant，所以我这里用的是 van-uploader，after-read 是这个组件文件上传完成过后的回调函数和 input 标签里定义方法是一样的</p>
<p>在 vue 中实现</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">afterRead</span>(<span class="params">file</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(file) <span class="comment">//file对象</span></span><br><span class="line">    <span class="keyword">let</span> url = URL.createObjectURL(file.file);<span class="comment">//获取当前文件的一个内存URL</span></span><br><span class="line">    <span class="comment">//URL.createObjectURL()会创建一个DOMString，其中包含一个表示参数中给出的对象的URL。这个新的URL对象表示指定的 File 对象或 Blob 对象</span></span><br><span class="line">    <span class="keyword">let</span> audioElement = <span class="keyword">new</span> Audio(url);<span class="comment">//创建一个音视频文件对象</span></span><br><span class="line">    <span class="built_in">console</span>.log(audioElement)</span><br><span class="line">    <span class="comment">//&lt;audio preload=&quot;auto&quot;src=&quot;blob:http://localhost:8080/2c1e043e-f912-4541-bc71-334f733912bf&quot;&gt;&lt;/audio&gt;</span></span><br><span class="line">    audioElement.addEventListener(<span class="string">&quot;loadedmetadata&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">_event</span>) </span>&#123;</span><br><span class="line">        <span class="comment">//给音视频文件对象添加方法,loadedmetadata表示当指定的音频/视频的元数据已加载时，会发生事件</span></span><br><span class="line">        <span class="keyword">let</span> duration = audioElement.duration;</span><br><span class="line">        <span class="comment">//duration是H5 Audio的一个属性 可以获取音视频文件的长度</span></span><br><span class="line">        <span class="keyword">let</span> result = <span class="built_in">parseInt</span>(duration);</span><br><span class="line">        <span class="comment">//转化为整形</span></span><br><span class="line">        <span class="keyword">let</span> h =</span><br><span class="line">          <span class="built_in">Math</span>.floor(result / <span class="number">3600</span>) &lt; <span class="number">10</span></span><br><span class="line">            ? <span class="string">&quot;0&quot;</span> + <span class="built_in">Math</span>.floor(result / <span class="number">3600</span>)</span><br><span class="line">            : <span class="built_in">Math</span>.floor(result / <span class="number">3600</span>);<span class="comment">//如果小于10就在前面加个0</span></span><br><span class="line">        <span class="keyword">let</span> m =</span><br><span class="line">          <span class="built_in">Math</span>.floor((result / <span class="number">60</span>) % <span class="number">60</span>) &lt; <span class="number">10</span></span><br><span class="line">            ? <span class="string">&quot;0&quot;</span> + <span class="built_in">Math</span>.floor((result / <span class="number">60</span>) % <span class="number">60</span>)</span><br><span class="line">            : <span class="built_in">Math</span>.floor((result / <span class="number">60</span>) % <span class="number">60</span>);</span><br><span class="line">        <span class="keyword">let</span> s =</span><br><span class="line">          <span class="built_in">Math</span>.floor(result % <span class="number">60</span>) &lt; <span class="number">10</span></span><br><span class="line">            ? <span class="string">&quot;0&quot;</span> + <span class="built_in">Math</span>.floor(result % <span class="number">60</span>)</span><br><span class="line">            : <span class="built_in">Math</span>.floor(result % <span class="number">60</span>);</span><br><span class="line">        <span class="built_in">console</span>.log(h + <span class="string">&quot;:&quot;</span> + m + <span class="string">&quot;:&quot;</span> + s)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>通过原生 JS 实现</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type=<span class="string">&quot;file&quot;</span> name=<span class="string">&quot;&quot;</span> id=<span class="string">&quot;test&quot;</span> value=<span class="string">&quot;&quot;</span> onchange=<span class="string">&quot;getFile()&quot;</span> /&gt;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getFile</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> file = <span class="built_in">document</span>.getElementById(<span class="string">&quot;test&quot;</span>).files[<span class="number">0</span>];</span><br><span class="line">  <span class="built_in">console</span>.log(file); <span class="comment">//file对象</span></span><br><span class="line">  <span class="keyword">let</span> url = URL.createObjectURL(file);</span><br><span class="line">  <span class="keyword">let</span> video = <span class="built_in">document</span>.createElement(<span class="string">&quot;video&quot;</span>);</span><br><span class="line">  video.src = url;</span><br><span class="line">  video.addEventListener(<span class="string">&quot;loadedmetadata&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(video.duration);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/12/05/JS%E8%8E%B7%E5%8F%96%E8%A7%86%E9%A2%91%E9%95%BF%E5%BA%A6/" data-id="ckibrwqrq0000sgv19ook6g6u" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Vue中接口参数是file类型的处理方法" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/12/05/Vue%E4%B8%AD%E6%8E%A5%E5%8F%A3%E5%8F%82%E6%95%B0%E6%98%AFfile%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%A4%84%E7%90%86%E6%96%B9%E6%B3%95/" class="article-date">
  <time datetime="2020-12-05T14:06:01.691Z" itemprop="datePublished">2020-12-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/12/05/Vue%E4%B8%AD%E6%8E%A5%E5%8F%A3%E5%8F%82%E6%95%B0%E6%98%AFfile%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%A4%84%E7%90%86%E6%96%B9%E6%B3%95/">对Vue接口参数是file类型的处理</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="如果接口参数是-file-如何处理"><a href="#如果接口参数是-file-如何处理" class="headerlink" title="如果接口参数是 file 如何处理"></a>如果接口参数是 file 如何处理</h1><p>最近一个项目需要做一个类似于动态发布的效果其中一个接口参数类型要求是 file 类型</p>
<p>一开始我以为很简单，不就是拿到 file 然后传值给 data 吗？事实证明我还是太年轻</p>
<p>最开始的处理方式：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&lt;input</span><br><span class="line">  type=<span class="string">&quot;file&quot;</span></span><br><span class="line">  name=<span class="string">&quot;filedata&quot;</span></span><br><span class="line">  <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;img-upload&quot;</span></span><br><span class="line">  accept=<span class="string">&quot;image/*&quot;</span></span><br><span class="line">  capture=<span class="string">&quot;camera&quot;</span></span><br><span class="line">  multiple=<span class="string">&quot;multiple&quot;</span></span><br><span class="line">  ref=<span class="string">&quot;file&quot;</span></span><br><span class="line">  @change=<span class="string">&quot;fileChange($event)&quot;</span></span><br><span class="line">/&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="title">fileChange</span>(<span class="params">event</span>)</span>&#123;</span><br><span class="line">       <span class="keyword">let</span> file  = e.target.files[<span class="number">0</span>];</span><br><span class="line">       <span class="keyword">let</span> data = &#123;</span><br><span class="line">       s:<span class="string">&#x27;App.Examples_Upload.Go&#x27;</span>,</span><br><span class="line">       token: <span class="built_in">localStorage</span>.getItem(<span class="string">&quot;token&quot;</span>),</span><br><span class="line">       user_id :<span class="built_in">localStorage</span>.getItem(<span class="string">&quot;user_id&quot;</span>),</span><br><span class="line">       file : file</span><br><span class="line">     &#125;</span><br><span class="line">      <span class="built_in">console</span>.log(data.file) <span class="comment">//file对象</span></span><br><span class="line">     axios(&#123;</span><br><span class="line">         url:<span class="string">&quot;上传地址&quot;</span>,</span><br><span class="line">         method:<span class="string">&quot;post&quot;</span>,</span><br><span class="line">         headers:&#123;</span><br><span class="line">             <span class="string">&#x27;content-type&#x27;</span>:<span class="string">&#x27;application/xx-www-form-urlencoded;multipart/form=data&#x27;</span></span><br><span class="line">         &#125;,</span><br><span class="line">         data:data</span><br><span class="line">     &#125;).then(<span class="function">(<span class="params">res</span>)=&gt;</span>&#123;</span><br><span class="line">         <span class="built_in">console</span>.log(res)</span><br><span class="line">     &#125;)</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p>接下来 问题来了 当我打印 res 的时候发现 file 里面并没有值</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">config: &#123;url: &quot;/&quot;, method: &quot;post&quot;, data: &quot;&#123;&quot;s&quot;:&quot;App.Examples_Upload.Go&quot;,&quot;token&quot;:&quot;4DDA05B48D4…EC7FBEECAC4202E00735886&quot;,&quot;user_id&quot;:&quot;1&quot;,&quot;file&quot;:&#123;&#125;&#125;&quot;, headers: &#123;…&#125;, baseURL: &quot;api&quot;, …&#125;</span><br><span class="line">data:</span><br><span class="line">data: &#123;&#125;</span><br><span class="line">msg: &quot;非法请求：缺少上传文件：file&quot;</span><br><span class="line">ret: 400</span><br></pre></td></tr></table></figure>

<p>可以看到在请求的 data 里面 file 为空 一直想不明白为什么</p>
<p>最后在网上发现都是使用 formData 于是我也试了一下</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> formdata = <span class="keyword">new</span> FormData();</span><br><span class="line">formdata.append(<span class="string">&quot;file&quot;</span>, file);</span><br><span class="line">formdata.append(<span class="string">&quot;s&quot;</span>, <span class="string">&quot;App.Examples_Upload.Go&quot;</span>);</span><br><span class="line">formdata.append(<span class="string">&quot;user_id&quot;</span>, <span class="built_in">localStorage</span>.getItem(<span class="string">&quot;user_id&quot;</span>));</span><br><span class="line">formdata.append(<span class="string">&quot;token&quot;</span>, <span class="built_in">localStorage</span>.getItem(<span class="string">&quot;token&quot;</span>));</span><br><span class="line">axios(&#123;</span><br><span class="line">  url: <span class="string">&quot;上传地址&quot;</span>,</span><br><span class="line">  method: <span class="string">&quot;post&quot;</span>,</span><br><span class="line">  headers: &#123;</span><br><span class="line">    <span class="string">&quot;content-type&quot;</span>: <span class="string">&quot;application/xx-www-form-urlencoded;multipart/form=data&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  data: foemdata,</span><br><span class="line">&#125;).then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(res);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>完美解决 可是还是想不通为什么直接传 file 不行 可能是因为 file 是个对象？</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/12/05/Vue%E4%B8%AD%E6%8E%A5%E5%8F%A3%E5%8F%82%E6%95%B0%E6%98%AFfile%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%A4%84%E7%90%86%E6%96%B9%E6%B3%95/" data-id="ckibrwqrv0001sgv1a2i25kek" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-关于JavaScript中的三个点" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/12/05/%E5%85%B3%E4%BA%8EJavaScript%E4%B8%AD%E7%9A%84%E4%B8%89%E4%B8%AA%E7%82%B9/" class="article-date">
  <time datetime="2020-12-05T14:06:01.691Z" itemprop="datePublished">2020-12-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/12/05/%E5%85%B3%E4%BA%8EJavaScript%E4%B8%AD%E7%9A%84%E4%B8%89%E4%B8%AA%E7%82%B9/">关于JS中的三个点(...)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="JS-中的三个点-…-是什么玩意儿"><a href="#JS-中的三个点-…-是什么玩意儿" class="headerlink" title="JS 中的三个点(…)是什么玩意儿"></a>JS 中的三个点(…)是什么玩意儿</h1><p>最近在遇到了很多…这种东西最开始还不知道 度娘溜达一圈发现这其实是 ES6 的语法</p>
<p>三个点（…）真名叫扩展运算符，是在 ES6 中新增加的内容，它可以在函数调用/数组构造时，将数组表达式或者 string 在语法层面展开；还可以在构造字面量对象时将对象表达式按照 key-value 的方式展开</p>
<p>在数组中的使用:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> number = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>];</span><br><span class="line"><span class="built_in">console</span>.log(...num); <span class="comment">//1 2 3 4 5 6</span></span><br></pre></td></tr></table></figure>

<p>在对象中使用:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> man = &#123; <span class="attr">name</span>: <span class="string">&quot;chuichui&quot;</span>, <span class="attr">height</span>: <span class="number">176</span> &#125;;</span><br><span class="line"><span class="built_in">console</span>.log(&#123; ...man &#125;); <span class="comment">// &#123;name:&#x27;chuichui&#x27;,height:176&#125;</span></span><br></pre></td></tr></table></figure>

<p>它的功能远不止这些，还可以用于复制、转化类型、合并等操作</p>
<p>复制:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//数组的复制</span></span><br><span class="line"><span class="keyword">var</span> arr1 = [<span class="string">&quot;hello&quot;</span>];</span><br><span class="line"><span class="keyword">var</span> arr2 = [...arr1];</span><br><span class="line"><span class="built_in">console</span>.log(arr2); <span class="comment">// [&#x27;hello&#x27;]</span></span><br><span class="line"><span class="comment">//对象的复制</span></span><br><span class="line"><span class="keyword">var</span> obj1 = &#123; <span class="attr">name</span>: <span class="string">&quot;chuichui&quot;</span> &#125;;</span><br><span class="line"><span class="keyword">var</span> obj2 = &#123; ...obj1 &#125;;</span><br><span class="line"><span class="built_in">console</span>.log(obj2); <span class="comment">//  &#123;name:&#x27;chuichui&#x27;&#125;</span></span><br></pre></td></tr></table></figure>

<p>合并:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//数组的合并</span></span><br><span class="line"><span class="keyword">var</span> arr1 = [<span class="string">&quot;hello&quot;</span>];</span><br><span class="line"><span class="keyword">var</span> arr2 = [<span class="string">&quot;chuichui&quot;</span>];</span><br><span class="line"><span class="comment">//使用conact方法</span></span><br><span class="line"><span class="keyword">var</span> newarr = arr1.concat(arr2);</span><br><span class="line"><span class="built_in">console</span>.log(newarr); <span class="comment">//[&#x27;hello&#x27;,&#x27;chuichui&#x27;]</span></span><br><span class="line"><span class="comment">//ES5</span></span><br><span class="line"><span class="built_in">Array</span>.prototype.push.apply(arr1, arr2);</span><br><span class="line"><span class="built_in">console</span>.log(arr1);</span><br><span class="line"><span class="comment">//使用...</span></span><br><span class="line"><span class="keyword">var</span> mergeArr = [...arr1, ...arr2];</span><br><span class="line"><span class="built_in">console</span>.log(mergeArr); <span class="comment">// [&#x27;hello&#x27;,&#x27;chuichui&#x27;]</span></span><br><span class="line"><span class="comment">// 对象合并</span></span><br><span class="line"><span class="keyword">var</span> obj1 = &#123; <span class="attr">name</span>: <span class="string">&quot;chuichui&quot;</span> &#125;;</span><br><span class="line"><span class="keyword">var</span> obj2 = &#123; <span class="attr">height</span>: <span class="number">176</span> &#125;;</span><br><span class="line"><span class="keyword">var</span> mergeObj = &#123; ...obj1, ...obj2 &#125;;</span><br><span class="line"><span class="built_in">console</span>.log(mergeObj); <span class="comment">// &#123;name: &quot;chuichui&quot;, height: 176&#125;</span></span><br></pre></td></tr></table></figure>

<p>字符转数组:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr1 = [...<span class="string">&quot;hello&quot;</span>];</span><br><span class="line"><span class="built_in">console</span>.log(arr1); <span class="comment">// [&quot;h&quot;, &quot;e&quot;, &quot;l&quot;, &quot;l&quot;, &quot;o&quot;]</span></span><br></pre></td></tr></table></figure>

<p>替换 ES5 中的 apply:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ES5 的写法</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">x, y, z</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> x + y + z;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> args = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>];</span><br><span class="line"><span class="built_in">console</span>.log(f.apply(<span class="literal">null</span>, args)); <span class="comment">//3</span></span><br><span class="line"><span class="comment">// ES6 的写法</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">x, y, z</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> x + y + z;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> args = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>];</span><br><span class="line"><span class="built_in">console</span>.log(f(...args)); <span class="comment">//3</span></span><br></pre></td></tr></table></figure>

<p>求数组中的最大值:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">14</span>, <span class="number">2</span>, <span class="number">77</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// ES5 的写法</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.max.apply(<span class="literal">null</span>, arr)); <span class="comment">//77</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ES6 的写法</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.max(...arr)); <span class="comment">//77</span></span><br><span class="line"><span class="comment">//  等同于</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.max(<span class="number">14</span>, <span class="number">3</span>, <span class="number">77</span>)); <span class="comment">//77</span></span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/12/05/%E5%85%B3%E4%BA%8EJavaScript%E4%B8%AD%E7%9A%84%E4%B8%89%E4%B8%AA%E7%82%B9/" data-id="ckibrwqrx0002sgv185fi3l7j" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-地区三级联动选择" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/12/05/%E5%9C%B0%E5%8C%BA%E4%B8%89%E7%BA%A7%E8%81%94%E5%8A%A8%E9%80%89%E6%8B%A9/" class="article-date">
  <time datetime="2020-12-05T14:02:48.750Z" itemprop="datePublished">2020-12-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/12/05/%E5%9C%B0%E5%8C%BA%E4%B8%89%E7%BA%A7%E8%81%94%E5%8A%A8%E9%80%89%E6%8B%A9/">地区三级联动选择</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Vue-的-vant-库实现"><a href="#Vue-的-vant-库实现" class="headerlink" title="Vue 的 vant 库实现"></a>Vue 的 vant 库实现</h1><h4 id="首先引入一个-aera-js-文件"><a href="#首先引入一个-aera-js-文件" class="headerlink" title="首先引入一个 aera.js 文件"></a>首先引入一个 aera.js 文件</h4><p>这里是我放在 gitee 的一个 area.js <a target="_blank" rel="noopener" href="https://gitee.com/mu_lou_mu_di/area">area.js</a></p>
<h4 id="其次在需要使用的组件中使用"><a href="#其次在需要使用的组件中使用" class="headerlink" title="其次在需要使用的组件中使用"></a>其次在需要使用的组件中使用</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; areaList &#125; <span class="keyword">from</span> <span class="string">&quot;../../utils/Area&quot;</span>;</span><br></pre></td></tr></table></figure>

<p>这里我使用的 Vue 的 vant 中的 van-area 所以在需要的组件中引入</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Area &#125; <span class="keyword">from</span> <span class="string">&quot;vant&quot;</span>;</span><br></pre></td></tr></table></figure>

<p>下面就可以直接使用了</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">    &lt;van-area title=<span class="string">&quot;&quot;</span></span><br><span class="line">    :columns-num=<span class="string">&quot;3&quot;</span></span><br><span class="line">    :area-list=<span class="string">&quot;areaList&quot;</span></span><br><span class="line">    /&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; Area &#125; <span class="keyword">from</span> <span class="string">&quot;vant&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; areaList &#125; <span class="keyword">from</span> <span class="string">&#x27;../../utils/Area&#x27;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  compontents:&#123;</span><br><span class="line">    [Area.name]: Area,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span>&#123;</span><br><span class="line">      areaList</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>关于 van-area 的使用请参考 <a target="_blank" rel="noopener" href="https://vant-contrib.gitee.io/vant/#/zh-CN/area">van-area</a></p>
<h1 id="原生-JavaScript-实现"><a href="#原生-JavaScript-实现" class="headerlink" title="原生 JavaScript 实现"></a>原生 JavaScript 实现</h1><p>html:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=<span class="string">&quot;en&quot;</span>&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=<span class="string">&quot;UTF-8&quot;</span>&gt;</span><br><span class="line">    &lt;meta name=<span class="string">&quot;viewport&quot;</span> content=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br><span class="line">    &lt;meta http-equiv=<span class="string">&quot;X-UA-Compatible&quot;</span> content=<span class="string">&quot;ie=edge&quot;</span>&gt;</span><br><span class="line">    &lt;title&gt;Document&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id=<span class="string">&quot;area&quot;</span>&gt;&lt;/div&gt;</span><br><span class="line">    &lt;script src=<span class="string">&quot;./js/city.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script src=<span class="string">&quot;./js/method.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        <span class="keyword">var</span> select = <span class="keyword">new</span> YxAreaSelect(&#123;</span><br><span class="line">            elem:<span class="string">&#x27;#area&#x27;</span>,</span><br><span class="line">            mode:<span class="string">&#x27;code&#x27;</span>,</span><br><span class="line">            defProvince:<span class="string">&#x27;370000&#x27;</span>,</span><br><span class="line">            defCity:<span class="string">&#x27;370100&#x27;</span>,</span><br><span class="line">            defArea:<span class="string">&#x27;370112&#x27;</span>,</span><br><span class="line">            provinceName:<span class="string">&#x27;province&#x27;</span>,</span><br><span class="line">            cityName:<span class="string">&#x27;city&#x27;</span>,</span><br><span class="line">            areaName:<span class="string">&#x27;area&#x27;</span></span><br><span class="line">        &#125;);</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<p>js:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">YxAreaSelect</span> </span>&#123;</span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 构造函数,创建select</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param <span class="type">&#123;启动参数&#125;</span> <span class="variable">option</span></span></span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">option</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> option == <span class="string">&quot;undefined&quot;</span>) &#123;</span><br><span class="line">      <span class="keyword">throw</span> <span class="string">&quot;YxAreaSelect Setting Is Not Found&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> option != <span class="string">&quot;object&quot;</span>) &#123;</span><br><span class="line">      <span class="keyword">throw</span> <span class="string">&quot;YxAreaSelect Setting Is Not Object&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">this</span>.settingConfig(option);</span><br><span class="line">    <span class="built_in">document</span>.querySelector(</span><br><span class="line">      <span class="built_in">this</span>.setting.elem</span><br><span class="line">    ).innerHTML = <span class="built_in">this</span>.createSelectBody();</span><br><span class="line">    <span class="keyword">let</span> provinceDom = <span class="built_in">document</span>.querySelector(<span class="string">&quot;.yx-area-select-province&quot;</span>);</span><br><span class="line">    <span class="keyword">let</span> cityDom = <span class="built_in">document</span>.querySelector(<span class="string">&quot;.yx-area-select-city&quot;</span>);</span><br><span class="line">    <span class="keyword">let</span> areaDom = <span class="built_in">document</span>.querySelector(<span class="string">&quot;.yx-area-select-area&quot;</span>);</span><br><span class="line">    <span class="built_in">this</span>.provinceDom = provinceDom;</span><br><span class="line">    <span class="built_in">this</span>.cityDom = cityDom;</span><br><span class="line">    <span class="built_in">this</span>.areaDom = areaDom;</span><br><span class="line">    <span class="comment">//省被选择,重画市和区的内容</span></span><br><span class="line">    provinceDom.addEventListener(<span class="string">&quot;change&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      cityDom.innerHTML = <span class="built_in">this</span>.createBody(<span class="built_in">this</span>.getDomCode(provinceDom));</span><br><span class="line">      areaDom.innerHTML = <span class="built_in">this</span>.createBody(<span class="built_in">this</span>.getDomCode(cityDom));</span><br><span class="line">    &#125;);</span><br><span class="line">    cityDom.addEventListener(<span class="string">&quot;change&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      areaDom.innerHTML = <span class="built_in">this</span>.createBody(<span class="built_in">this</span>.getDomCode(cityDom));</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="comment">//处理默认值,</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">this</span>.setting.defProvince.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 获取dom的code值</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="function"><span class="title">getDomCode</span>(<span class="params">dom</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> index = dom.selectedIndex;</span><br><span class="line">    <span class="keyword">let</span> code = dom.options[index].getAttribute(<span class="string">&quot;data-code&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> code;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * value</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="function"><span class="title">getDomValue</span>(<span class="params">dom</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> index = dom.selectedIndex;</span><br><span class="line">    <span class="keyword">let</span> code = dom.options[index].getAttribute(<span class="string">&quot;data-value&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> code;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 根据编码创建option</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param <span class="type">&#123;省份编码&#125;</span> <span class="variable">code</span></span></span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="function"><span class="title">createBody</span>(<span class="params">code</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> jsonData = AREADATA[code];</span><br><span class="line">    <span class="keyword">let</span> html = <span class="string">`&lt;option&gt;<span class="subst">$&#123;<span class="built_in">this</span>.setting.defChoose&#125;</span>&lt;/option&gt;`</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">const</span> key <span class="keyword">in</span> jsonData) &#123;</span><br><span class="line">      html += <span class="string">`&lt;option data-code=&#x27;<span class="subst">$&#123;key&#125;</span>&#x27; data-value=&#x27;<span class="subst">$&#123;jsonData[key]&#125;</span>&#x27;&gt;<span class="subst">$&#123;jsonData[key]&#125;</span>&lt;/option&gt;`</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> html;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 处理配置项,给配置项处理默认值</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param <span class="type">&#123;*&#125;</span> <span class="variable">option</span></span></span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="function"><span class="title">settingConfig</span>(<span class="params">option</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.setting = option;</span><br><span class="line">    <span class="comment">//mode 模式 取值 value,code</span></span><br><span class="line">    <span class="built_in">this</span>.setting.mode = option.mode || <span class="string">&quot;value&quot;</span>;</span><br><span class="line">    <span class="built_in">this</span>.setting.defProvince = option.defProvince || <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="built_in">this</span>.setting.defCity = option.defCity || <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="built_in">this</span>.setting.defArea = option.defArea || <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="built_in">this</span>.setting.defChoose = option.defChoose || <span class="string">&quot;请选择&quot;</span>;</span><br><span class="line">    <span class="built_in">this</span>.setting.provinceName = option.provinceName || <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="built_in">this</span>.setting.cityName = option.cityName || <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="built_in">this</span>.setting.areaName = option.areaName || <span class="string">&quot;&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">getProvince</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.setting.mode == <span class="string">&quot;value&quot;</span></span><br><span class="line">      ? <span class="built_in">this</span>.getDomValue(<span class="built_in">this</span>.provinceDom)</span><br><span class="line">      : <span class="built_in">this</span>.getDomCode(<span class="built_in">this</span>.provinceDom);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">getCity</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.setting.mode == <span class="string">&quot;value&quot;</span></span><br><span class="line">      ? <span class="built_in">this</span>.getDomValue(<span class="built_in">this</span>.cityDom)</span><br><span class="line">      : <span class="built_in">this</span>.getDomCode(<span class="built_in">this</span>.cityDom);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">getArea</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.setting.mode == <span class="string">&quot;value&quot;</span></span><br><span class="line">      ? <span class="built_in">this</span>.getDomValue(<span class="built_in">this</span>.areaDom)</span><br><span class="line">      : <span class="built_in">this</span>.getDomCode(<span class="built_in">this</span>.areaDom);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 创建选择框html</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="function"><span class="title">createSelectBody</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> html = <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="keyword">let</span> province = <span class="string">`&lt;select name=&#x27;<span class="subst">$&#123;<span class="built_in">this</span>.setting.provinceName&#125;</span>&#x27; class=&#x27;yx-area-select-province&#x27;&gt;&lt;option&gt;<span class="subst">$&#123;<span class="built_in">this</span>.setting.defChoose&#125;</span>&lt;/option&gt;`</span>;</span><br><span class="line">    <span class="keyword">let</span> data = AREADATA[<span class="number">100000</span>];</span><br><span class="line">    <span class="keyword">let</span> defProvinceCode;</span><br><span class="line">    <span class="keyword">let</span> defCityCode;</span><br><span class="line">    <span class="keyword">let</span> defAreaCode;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">const</span> key <span class="keyword">in</span> data) &#123;</span><br><span class="line">      <span class="keyword">let</span> selected = <span class="string">&quot;&quot;</span>;</span><br><span class="line">      <span class="keyword">if</span> (<span class="built_in">this</span>.setting.defProvince.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (</span><br><span class="line">          <span class="built_in">this</span>.setting.mode === <span class="string">&quot;value&quot;</span> &amp;&amp;</span><br><span class="line">          <span class="built_in">this</span>.setting.defProvince == data[key]</span><br><span class="line">        ) &#123;</span><br><span class="line">          selected = <span class="string">&quot;selected&quot;</span>;</span><br><span class="line">          defProvinceCode = key;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">this</span>.setting.defProvince == key) &#123;</span><br><span class="line">          selected = <span class="string">&quot;selected&quot;</span>;</span><br><span class="line">          defProvinceCode = key;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      province += <span class="string">`&lt;option data-code=&#x27;<span class="subst">$&#123;key&#125;</span>&#x27; <span class="subst">$&#123;selected&#125;</span> data-value=&#x27;<span class="subst">$&#123;data[key]&#125;</span>&#x27;&gt;<span class="subst">$&#123;data[key]&#125;</span>&lt;/option&gt;`</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    province += <span class="string">&quot;&lt;/select&gt;&quot;</span>;</span><br><span class="line">    <span class="keyword">let</span> city;</span><br><span class="line">    <span class="keyword">if</span> (defProvinceCode != <span class="literal">undefined</span>) &#123;</span><br><span class="line">      data = AREADATA[defProvinceCode];</span><br><span class="line">      city = <span class="string">`&lt;select name=&#x27;<span class="subst">$&#123;<span class="built_in">this</span>.setting.cityName&#125;</span>&#x27; class=&#x27;yx-area-select-city&#x27;&gt;&lt;option&gt;<span class="subst">$&#123;<span class="built_in">this</span>.setting.defChoose&#125;</span>&lt;/option&gt;`</span>;</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">const</span> key <span class="keyword">in</span> data) &#123;</span><br><span class="line">        <span class="keyword">let</span> selected = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span>.setting.defCity.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">          <span class="keyword">if</span> (</span><br><span class="line">            <span class="built_in">this</span>.setting.mode === <span class="string">&quot;value&quot;</span> &amp;&amp;</span><br><span class="line">            <span class="built_in">this</span>.setting.defCity == data[key]</span><br><span class="line">          ) &#123;</span><br><span class="line">            selected = <span class="string">&quot;selected&quot;</span>;</span><br><span class="line">            defCityCode = key;</span><br><span class="line">          &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">this</span>.setting.defCity == key) &#123;</span><br><span class="line">            selected = <span class="string">&quot;selected&quot;</span>;</span><br><span class="line">            defCityCode = key;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        city += <span class="string">`&lt;option data-code=&#x27;<span class="subst">$&#123;key&#125;</span>&#x27; <span class="subst">$&#123;selected&#125;</span> data-value=&#x27;<span class="subst">$&#123;data[key]&#125;</span>&#x27;&gt;<span class="subst">$&#123;data[key]&#125;</span>&lt;/option&gt;`</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      city += <span class="string">&quot;&lt;/select&gt;&quot;</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      city = <span class="string">`&lt;select name=&#x27;<span class="subst">$&#123;<span class="built_in">this</span>.setting.cityName&#125;</span>&#x27; class=&#x27;yx-area-select-city&#x27;&gt;&lt;option&gt;<span class="subst">$&#123;<span class="built_in">this</span>.setting.defChoose&#125;</span>&lt;/option&gt;&lt;/select&gt;`</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> area;</span><br><span class="line">    <span class="keyword">if</span> (defCityCode != <span class="literal">undefined</span>) &#123;</span><br><span class="line">      data = AREADATA[defCityCode];</span><br><span class="line">      area = <span class="string">`&lt;select name=&#x27;<span class="subst">$&#123;<span class="built_in">this</span>.setting.areaName&#125;</span>&#x27; class=&#x27;yx-area-select-area&#x27;&gt;&lt;option&gt;<span class="subst">$&#123;<span class="built_in">this</span>.setting.defChoose&#125;</span>&lt;/option&gt;`</span>;</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">const</span> key <span class="keyword">in</span> data) &#123;</span><br><span class="line">        <span class="keyword">let</span> selected = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span>.setting.defArea.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">          <span class="keyword">if</span> (</span><br><span class="line">            <span class="built_in">this</span>.setting.mode === <span class="string">&quot;value&quot;</span> &amp;&amp;</span><br><span class="line">            <span class="built_in">this</span>.setting.defArea == data[key]</span><br><span class="line">          ) &#123;</span><br><span class="line">            selected = <span class="string">&quot;selected&quot;</span>;</span><br><span class="line">          &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">this</span>.setting.defArea == key) &#123;</span><br><span class="line">            selected = <span class="string">&quot;selected&quot;</span>;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        area += <span class="string">`&lt;option data-code=&#x27;<span class="subst">$&#123;key&#125;</span>&#x27; <span class="subst">$&#123;selected&#125;</span> data-value=&#x27;<span class="subst">$&#123;data[key]&#125;</span>&#x27;&gt;<span class="subst">$&#123;data[key]&#125;</span>&lt;/option&gt;`</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      area += <span class="string">&quot;&lt;/select&gt;&quot;</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      area = <span class="string">`&lt;select name=&#x27;<span class="subst">$&#123;<span class="built_in">this</span>.setting.areaName&#125;</span>&#x27; class=&#x27;yx-area-select-city&#x27;&gt;&lt;option&gt;<span class="subst">$&#123;<span class="built_in">this</span>.setting.defChoose&#125;</span>&lt;/option&gt;&lt;/select&gt;`</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    html += province + city + area;</span><br><span class="line">    <span class="keyword">return</span> html;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>使用的 city.js 在 我的 git 地址下载<a target="_blank" rel="noopener" href="https://gitee.com/mu_lou_mu_di/area">city</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/12/05/%E5%9C%B0%E5%8C%BA%E4%B8%89%E7%BA%A7%E8%81%94%E5%8A%A8%E9%80%89%E6%8B%A9/" data-id="ckibrwqry0003sgv16jyxh44i" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-前端面试题" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/11/02/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98/" class="article-date">
  <time datetime="2020-11-02T06:16:22.405Z" itemprop="datePublished">2020-11-02</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/11/02/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98/">前端面试题</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="HTML-面试题"><a href="#HTML-面试题" class="headerlink" title="HTML 面试题"></a>HTML 面试题</h1><h3 id="DOCTYPE-的作用是什么"><a href="#DOCTYPE-的作用是什么" class="headerlink" title="DOCTYPE 的作用是什么"></a>DOCTYPE 的作用是什么</h3><ul>
<li><!DOCTYPE> 声明一般位于文档的第一行，它的作用主要是告诉浏览器以什么样的模式来解析文档。一般指定了之后会以标准模式来 进行文档解析，否则就以兼容模式进行解析。在标准模式下，浏览器的解析规则都是按照最新的标准进行解析的。而在兼容模式下，浏 览器会以向后兼容的方式来模拟老式浏览器的行为，以保证一些老的网站的正确访问。</li>
</ul>
<h3 id="标准模式与兼容模式的区别"><a href="#标准模式与兼容模式的区别" class="headerlink" title="标准模式与兼容模式的区别"></a>标准模式与兼容模式的区别</h3><ul>
<li>标准模式的渲染方式和 JS 引擎的解析方式都是以该浏览器支持的最高标准运行的</li>
<li>兼容模式中，页面以宽松的向后兼容的方式显示，模拟老式浏览器的行为以防止站点无法工作。</li>
</ul>
<h3 id="DTD-介绍"><a href="#DTD-介绍" class="headerlink" title="DTD 介绍"></a>DTD 介绍</h3><ul>
<li>DTD（ Document Type Definition 文档类型定义）是一组机器可读的规则，它们定义 XML 或 HTML 的特定版本中所有允许元 素及它们的属性和层次关系的定义。在解析网页时，浏览器将使用这些规则检查页面的有效性并且采取相应的措施。</li>
<li>DTD 是对 HTML 文档的声明，还会影响浏览器的渲染模式（工作模式）。</li>
</ul>
<h3 id="4，空元素定义"><a href="#4，空元素定义" class="headerlink" title="4，空元素定义"></a>4，空元素定义</h3><ul>
<li>标签内没有内容的 HTML 标签被称为空标签，空标签是在开始标签中关闭的。</li>
<li>常见的空标签有 br,hr,img,input,link,meta。</li>
</ul>
<h3 id="5-HTML5-为什么只需要写-，而不需要引入-DTD？"><a href="#5-HTML5-为什么只需要写-，而不需要引入-DTD？" class="headerlink" title="5, HTML5 为什么只需要写  ，而不需要引入 DTD？"></a>5, HTML5 为什么只需要写 <!DOCTYPE HTML> ，而不需要引入 DTD？</h3><ul>
<li>HTML5 不基于 SGML，因此不需要对 DTD 进行引用，但是需要 DOCTYPE 来规范浏览器的行为（让浏览器按照它们应该的方式来运 行）。</li>
<li>而 HTML4.01 基于 SGML ，所以需要对 DTD 进行引用，才能告知浏览器文档所使用的文档类型。</li>
</ul>
<h3 id="6-SGML-、-HTML-、XML-和-XHTML-的区别？"><a href="#6-SGML-、-HTML-、XML-和-XHTML-的区别？" class="headerlink" title="6, SGML 、 HTML 、XML 和 XHTML 的区别？"></a>6, SGML 、 HTML 、XML 和 XHTML 的区别？</h3><ul>
<li>SGML 是标准通用标记语言，是一种定义电子文档结构和描述其内容的国际标准语言，是所有电子文档标记语言的起源。</li>
<li>HTML 是超文本标记语言，主要是用于规定怎么显示网页。</li>
<li>XML 是可扩展标记语言是未来网页语言的发展方向，XML 和 HTML 的最大区别就在于 XML 的标签是可以自己创建的，数量无限多， 而 HTML 的标签都是固定的而且数量有限。</li>
<li>XHTML 也是现在基本上所有网页都在用的标记语言，他其实和 HTML 没什么本质的区别，标签都一样，用法也都一样，就是比 HTML 更严格，比如标签必须都用小写，标签都必须有闭合标签等。</li>
</ul>
<h3 id="7-css-中-calc-support-media-各自的含义及用法"><a href="#7-css-中-calc-support-media-各自的含义及用法" class="headerlink" title="7, css 中 calc.support,media 各自的含义及用法"></a>7, css 中 calc.support,media 各自的含义及用法</h3><ul>
<li>@support 主要是用于检测浏览器是否支持 CSS 的某个属性，其实就是条件判断，如果支持某个属性，你可以写一套样式，如果不支持某个属性，你也可以提供另外一套样式作为替补。</li>
<li>calc() 函数用于动态计算长度值。 calc()函数支持 “+”, “-“, “*“, “/“ 运算；</li>
<li>@media 查询，你可以针对不同的媒体类型定义不同的样式。</li>
</ul>
<h3 id="8，css-水平、垂直居中的-4-种写法"><a href="#8，css-水平、垂直居中的-4-种写法" class="headerlink" title="8，css 水平、垂直居中的 4 种写法"></a>8，css 水平、垂直居中的 4 种写法</h3><h4 id="水平居中"><a href="#水平居中" class="headerlink" title="水平居中"></a>水平居中</h4><ul>
<li>行内元素: text-align: center</li>
<li>块级元素: margin: 0 auto</li>
<li>position:absolute +left:50%+ transform:translateX(-50%)</li>
<li>display:flex + justify-content: center</li>
</ul>
<h4 id="垂直居中"><a href="#垂直居中" class="headerlink" title="垂直居中"></a>垂直居中</h4><ul>
<li>设置 line-height 等于 height</li>
<li>position：absolute +top:50%+ transform:translateY(-50%)</li>
<li>display:flex + align-items: center</li>
<li>display:table+display:table-cell + vertical-align: middle;</li>
</ul>
<h3 id="1rem、1em、1vh、1px-各自代表的含义？"><a href="#1rem、1em、1vh、1px-各自代表的含义？" class="headerlink" title="1rem、1em、1vh、1px 各自代表的含义？"></a>1rem、1em、1vh、1px 各自代表的含义？</h3><h6 id="rem"><a href="#rem" class="headerlink" title="rem"></a>rem</h6><p>rem 是全部的长度都相对于根元素<html>元素。通常做法是给 html 元素设置一个字体大小，然后其他元素的长度单位就为 rem。</p>
<h6 id="em"><a href="#em" class="headerlink" title="em"></a>em</h6><ul>
<li>子元素字体大小的 em 是相对于父元素字体大小</li>
<li>元素的 width/height/padding/margin 用 em 的话是相对于该元素的 font-size</li>
</ul>
<h6 id="vw-vh"><a href="#vw-vh" class="headerlink" title="vw/vh"></a>vw/vh</h6><p>全称是 Viewport Width 和 Viewport Height，视窗的宽度和高度，相当于 屏幕宽度和高度的 1%，不过，处理宽度的时候%单位更合适，处理高度的 话 vh 单位更好。</p>
<h6 id="px"><a href="#px" class="headerlink" title="px"></a>px</h6><p>px 像素（Pixel）。相对长度单位。像素 px 是相对于显示器屏幕分辨率而言的。<br>一般电脑的分辨率有{1920<em>1024}等不同的分辨率<br>1920</em>1024 前者是屏幕宽度总共有 1920 个像素,后者则是高度为 1024 个像素</p>
<h3 id="画一条-0-5px-的直线"><a href="#画一条-0-5px-的直线" class="headerlink" title="画一条 0.5px 的直线"></a>画一条 0.5px 的直线</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">height: 1px;</span><br><span class="line">transform: scale(0.5);</span><br></pre></td></tr></table></figure>

<h3 id="盒模型"><a href="#盒模型" class="headerlink" title="盒模型"></a>盒模型</h3><p>盒模型的组成，由里向外 content,padding,border,margin.</p>
<p>在 IE 盒子模型中，width 表示 content+padding+border 这三个部分的宽度</p>
<p>在标准的盒子模型中，width 指 content 部分的宽度</p>
<h6 id="box-sizing-的使用"><a href="#box-sizing-的使用" class="headerlink" title="box-sizing 的使用"></a>box-sizing 的使用</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">box-sizing: content-box 是W3C盒子模型</span><br><span class="line">box-sizing: border-box 是IE盒子模型</span><br></pre></td></tr></table></figure>

<p>box-sizing 的默认属性是 content-box</p>
<h3 id="画一个三角形"><a href="#画一个三角形" class="headerlink" title="画一个三角形"></a>画一个三角形</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">.a&#123;</span><br><span class="line">            width: 0;</span><br><span class="line">            height: 0;</span><br><span class="line">            border-width: 100px;</span><br><span class="line">            border-style: solid;</span><br><span class="line">            border-color: transparent #0099CC transparent transparent;</span><br><span class="line">            transform: rotate(90deg); &#x2F;*顺时针旋转90°*&#x2F;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line">&lt;div class&#x3D;&quot;a&quot;&gt;&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>

<h3 id="清除浮动的几种方式及原理"><a href="#清除浮动的几种方式及原理" class="headerlink" title="清除浮动的几种方式及原理"></a>清除浮动的几种方式及原理</h3><ul>
<li>::after /<br> / clear:both</li>
<li>创建父级 BFC(overflow:hidden)</li>
<li>父级设置高度</li>
</ul>
<h6 id="BFC-（块级格式化上下文），是一个独立的渲染区域，让处于-BFC-内部的元素与外部的元素相互隔离，使内外元素的定位不会相互影响。"><a href="#BFC-（块级格式化上下文），是一个独立的渲染区域，让处于-BFC-内部的元素与外部的元素相互隔离，使内外元素的定位不会相互影响。" class="headerlink" title="BFC （块级格式化上下文），是一个独立的渲染区域，让处于 BFC 内部的元素与外部的元素相互隔离，使内外元素的定位不会相互影响。"></a>BFC （块级格式化上下文），是一个独立的渲染区域，让处于 BFC 内部的元素与外部的元素相互隔离，使内外元素的定位不会相互影响。</h6><h6 id="触发条件"><a href="#触发条件" class="headerlink" title="触发条件:"></a>触发条件:</h6><ul>
<li>根元素</li>
<li>position: absolute/fixed</li>
<li>display: inline-block / table</li>
<li>float 元素</li>
<li>ovevflow !== visible</li>
</ul>
<h6 id="规则"><a href="#规则" class="headerlink" title="规则:"></a>规则:</h6><ul>
<li>属于同一个 BFC 的两个相邻 Box 垂直排列</li>
<li>属于同一个 BFC 的两个相邻 Box 的 margin 会发生重叠</li>
<li>BFC 的区域不会与 float 的元素区域重叠</li>
<li>计算 BFC 的高度时，浮动子元素也参与计算</li>
<li>文字层不会被浮动层覆盖，环绕于周围</li>
</ul>
<h3 id="标签的用法"><a href="#标签的用法" class="headerlink" title="标签的用法"></a><label>标签的用法</h3><p>label 标签主要是方便鼠标点击使用，扩大可点击的范围，增强用户操作体验</p>
<h3 id="遍历-A-节点的父节点下的所有子节点"><a href="#遍历-A-节点的父节点下的所有子节点" class="headerlink" title="遍历 A 节点的父节点下的所有子节点"></a>遍历 A 节点的父节点下的所有子节点</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    var b&#x3D;document.getElementById(&quot;a&quot;).parentNode.children;</span><br><span class="line">    console.log(b)</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="用-js-递归的方式写-1-到-100-求和"><a href="#用-js-递归的方式写-1-到-100-求和" class="headerlink" title="用 js 递归的方式写 1 到 100 求和"></a>用 js 递归的方式写 1 到 100 求和</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">function add(num1,num2)&#123;</span><br><span class="line">	var num &#x3D; num1+num2;</span><br><span class="line">        if(num2+1&gt;100)&#123;</span><br><span class="line">	 return num;</span><br><span class="line">	&#125;else&#123;</span><br><span class="line">	  return add(num,num2+1)</span><br><span class="line">        &#125;</span><br><span class="line"> &#125;</span><br><span class="line">var sum &#x3D;add(1,2);</span><br></pre></td></tr></table></figure>

<h3 id="页面渲染-html-的过程"><a href="#页面渲染-html-的过程" class="headerlink" title="页面渲染 html 的过程"></a>页面渲染 html 的过程</h3><p>1.浏览器解析 html 源码，然后创建一个 DOM 树。并行请求 css/image/js 在 DOM 树中，每一个 HTML 标签都有一个对应的节点，并且每一个文本也都会有一个对应的文本节点。DOM 树的根节点就是 documentElement，对应的是 html 标签。</p>
<p>2.浏览器解析 CSS 代码，计算出最终的样式数据。构建 CSSOM 树。对 CSS 代码中非法的语法它会直接忽略掉。解析 CSS 的时候会按照如下顺序来定义优先级：浏览器默认设置 &lt; 用户设置 &lt; 外链样式 &lt; 内联样式 &lt; html 中的 style。</p>
<p>3.DOM Tree + CSSOM –&gt; 渲染树（rendering tree）。渲染树和 DOM 树有点像，但是是有区别的。</p>
<p>DOM 树完全和 html 标签一一对应，但是渲染树会忽略掉不需要渲染的元素，比如 head、display:none 的元素等。而且一大段文本中的每一个行在渲染树中都是独立的一个节点。渲染树中的每一个节点都存储有对应的 css 属性。</p>
<p>4.一旦渲染树创建好了，浏览器就可以根据渲染树直接把页面绘制到屏幕上。</p>
<p>以上四个步骤并不是一次性顺序完成的。如果 DOM 或者 CSSOM 被修改，以上过程会被重复执行。实际上，CSS 和 JavaScript 往往会多次修改 DOM 或者 CSSOM。</p>
<h3 id="说一下-CORS"><a href="#说一下-CORS" class="headerlink" title="说一下 CORS"></a>说一下 CORS</h3><p>CORS 是一种新标准，支持同源通信，也支持跨域通信。fetch 是实现 CORS 通信的</p>
<h3 id="如何中断-ajax-请求"><a href="#如何中断-ajax-请求" class="headerlink" title="如何中断 ajax 请求"></a>如何中断 ajax 请求</h3><p>一种是设置超时时间让 ajax 自动断开，另一种是手动停止 ajax 请求，其核心是调用 XML 对象的 abort 方法，ajax.abort()</p>
<h3 id="说一下事件代理"><a href="#说一下事件代理" class="headerlink" title="说一下事件代理"></a>说一下事件代理</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ulEl.addEventListener(&#39;click&#39;, function(e)&#123;</span><br><span class="line">    var target &#x3D; event.target || event.srcElement;</span><br><span class="line">    if(!!target &amp;&amp; target.nodeName.toUpperCase() &#x3D;&#x3D;&#x3D; &quot;LI&quot;)&#123;</span><br><span class="line">        console.log(target.innerHTML);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;, false);</span><br></pre></td></tr></table></figure>

<h3 id="target、currentTarget-的区别"><a href="#target、currentTarget-的区别" class="headerlink" title="target、currentTarget 的区别"></a>target、currentTarget 的区别</h3><p>currentTarget 当前所绑定事件的元素</p>
<p>target 当前被点击的元素</p>
<h3 id="宏任务和微任务"><a href="#宏任务和微任务" class="headerlink" title="宏任务和微任务"></a>宏任务和微任务</h3><p>宏任务：当前调用栈中执行的任务称为宏任务。（主代码快，定时器等等）。<br>微任务： 当前（此次事件循环中）宏任务执行完，在下一个宏任务开始之前需要执行的任务为微任务。（可以理解为回调事件，promise.then，proness.nextTick 等等）。<br>宏任务中的事件放在 callback queue 中，由事件触发线程维护；微任务的事件放在微任务队列中，由 js 引擎线程维护。</p>
<h3 id="继承的几种方式及优缺点"><a href="#继承的几种方式及优缺点" class="headerlink" title="继承的几种方式及优缺点"></a>继承的几种方式及优缺点</h3><p>1,借用构造函数继承，使用 call 或 apply 方法，将父对象的构造函数绑定在子对象上<br>2,原型继承，将子对象的 prototype 指向父对象的一个实例<br>3,组合继承</p>
<h6 id="原型链继承的缺点"><a href="#原型链继承的缺点" class="headerlink" title="原型链继承的缺点"></a>原型链继承的缺点</h6><p>字面量重写原型会中断关系，使用引用类型的原型，并且子类型还无法给超类型传递参数。</p>
<h6 id="借用构造函数"><a href="#借用构造函数" class="headerlink" title="借用构造函数"></a>借用构造函数</h6><p>借用构造函数虽然解决了刚才两种问题，但没有原型，则复用无从谈起。</p>
<h6 id="组合式继承"><a href="#组合式继承" class="headerlink" title="组合式继承"></a>组合式继承</h6><p>组合式继承是比较常用的一种继承方法，其背后的思路是使用原型链实现对原型属性和方法的继承，而通过借用构造函数来实现对实例属性的继承。这样，既通过在原型上定义方法实现了函数复用，又保证每个实例都有它自己的属性。</p>
<h3 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h3><p>闭包的实质是因为函数嵌套而形成的作用域链</p>
<p>闭包的定义即：函数 A 内部有一个函数 B，函数 B 可以访问到函数 A 中的变量，那么函数 B 就是闭包</p>
<h3 id="什么是会话-cookie-什么是持久-cookie"><a href="#什么是会话-cookie-什么是持久-cookie" class="headerlink" title="什么是会话 cookie,什么是持久 cookie"></a>什么是会话 cookie,什么是持久 cookie</h3><p>cookie 是服务器返回的，指定了 expire time（有效期）的是持久 cookie,没有指定的是会话 cookie</p>
<h3 id="数组去重"><a href="#数组去重" class="headerlink" title="数组去重"></a>数组去重</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">var arr&#x3D;[&#39;12&#39;,&#39;32&#39;,&#39;89&#39;,&#39;12&#39;,&#39;12&#39;,&#39;78&#39;,&#39;12&#39;,&#39;32&#39;];</span><br><span class="line">    &#x2F;&#x2F; 最简单数组去重法</span><br><span class="line">    function unique1(array)&#123;</span><br><span class="line">        var n &#x3D; []; &#x2F;&#x2F;一个新的临时数组</span><br><span class="line">        for(var i &#x3D; 0; i &lt; array.length; i++)&#123; &#x2F;&#x2F;遍历当前数组</span><br><span class="line">            if (n.indexOf(array[i]) &#x3D;&#x3D; -1)</span><br><span class="line">                n.push(array[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        return n;</span><br><span class="line">    &#125;</span><br><span class="line">    arr&#x3D;unique1(arr);</span><br><span class="line">    &#x2F;&#x2F; 速度最快， 占空间最多（空间换时间）</span><br><span class="line">    function unique2(array)&#123;</span><br><span class="line">        var n &#x3D; &#123;&#125;, r &#x3D; [], type;</span><br><span class="line">        for (var i &#x3D; 0; i &lt; array.length; i++) &#123;</span><br><span class="line">            type &#x3D; typeof array[i];</span><br><span class="line">            if (!n[array[i]]) &#123;</span><br><span class="line">                n[array[i]] &#x3D; [type];</span><br><span class="line">                r.push(array[i]);</span><br><span class="line">            &#125; else if (n[array[i]].indexOf(type) &lt; 0) &#123;</span><br><span class="line">                n[array[i]].push(type);</span><br><span class="line">                r.push(array[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return r;</span><br><span class="line">    &#125;</span><br><span class="line">    &#x2F;&#x2F;数组下标判断法</span><br><span class="line">    function unique3(array)&#123;</span><br><span class="line">        var n &#x3D; [array[0]]; &#x2F;&#x2F;结果数组</span><br><span class="line">        for(var i &#x3D; 1; i &lt; array.length; i++) &#123; &#x2F;&#x2F;从第二项开始遍历</span><br><span class="line">            if (array.indexOf(array[i]) &#x3D;&#x3D; i)</span><br><span class="line">                n.push(array[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        return n;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h6 id="es6"><a href="#es6" class="headerlink" title="es6"></a>es6</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">es6方法数组去重</span><br><span class="line">arr&#x3D;[...new Set(arr)];</span><br><span class="line">es6方法数组去重，第二种方法</span><br><span class="line">function dedupe(array) &#123;</span><br><span class="line">  return Array.from(new Set(array));       &#x2F;&#x2F;Array.from()能把set结构转换为数组</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="get、post-的区别"><a href="#get、post-的区别" class="headerlink" title="get、post 的区别"></a>get、post 的区别</h3><p>1.get 传参方式是通过地址栏 URL 传递，是可以直接看到 get 传递的参数，post 传参方式参数 URL 不可见，get 把请求的数据在 URL 后通过？连接，通过&amp;进行参数分割。psot 将参数存放在 HTTP 的包体内</p>
<p>2.get 传递数据是通过 URL 进行传递，对传递的数据长度是受到 URL 大小的限制，URL 最大长度是 2048 个字符。post 没有长度限制</p>
<p>3.get 后退不会有影响，post 后退会重新进行提交</p>
<p>4.get 请求可以被缓存，post 不可以被缓存</p>
<p>5.get 请求只 URL 编码，post 支持多种编码方式</p>
<p>6.get 请求的记录会留在历史记录中，post 请求不会留在历史记录</p>
<p>7.get 只支持 ASCII 字符，post 没有字符类型限制</p>
<h3 id="你所知道的-http-的响应码及含义"><a href="#你所知道的-http-的响应码及含义" class="headerlink" title="你所知道的 http 的响应码及含义"></a>你所知道的 http 的响应码及含义</h3><p>1xx(临时响应)</p>
<p>100: 请求者应当继续提出请求。</p>
<p>101(切换协议) 请求者已要求服务器切换协议，服务器已确认并准备进行切换。</p>
<p>2xx(成功)</p>
<p>200：正确的请求返回正确的结果</p>
<p>201：表示资源被正确的创建。比如说，我们 POST 用户名、密码正确创建了一个用户就可以返回 201。</p>
<p>202：请求是正确的，但是结果正在处理中，这时候客户端可以通过轮询等机制继续请求。</p>
<p>3xx(已重定向)</p>
<p>300：请求成功，但结果有多种选择。</p>
<p>301：请求成功，但是资源被永久转移。</p>
<p>303：使用 GET 来访问新的地址来获取资源。</p>
<p>304：请求的资源并没有被修改过</p>
<p>4xx(请求错误)</p>
<p>400：请求出现错误，比如请求头不对等。</p>
<p>401：没有提供认证信息。请求的时候没有带上 Token 等。</p>
<p>402：为以后需要所保留的状态码。</p>
<p>403：请求的资源不允许访问。就是说没有权限。</p>
<p>404：请求的内容不存在。</p>
<p>5xx(服务器错误)</p>
<p>500：服务器错误。</p>
<p>501：请求还没有被实现。</p>
<p>持续更新中··· 嘤嘤嘤</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/11/02/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98/" data-id="ckh05j5d70000asv14gf770z7" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Symbol的特性" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/10/27/Symbol%E7%9A%84%E7%89%B9%E6%80%A7/" class="article-date">
  <time datetime="2020-10-27T07:49:18.792Z" itemprop="datePublished">2020-10-27</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/10/27/Symbol%E7%9A%84%E7%89%B9%E6%80%A7/">JavaScript的Symbol特性</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h5 id="实例是唯一且不可改变的；一种唯一标识符，可作用对象的唯一属性名，这样其他人就不会改写或覆盖你设置的属性值。"><a href="#实例是唯一且不可改变的；一种唯一标识符，可作用对象的唯一属性名，这样其他人就不会改写或覆盖你设置的属性值。" class="headerlink" title="实例是唯一且不可改变的；一种唯一标识符，可作用对象的唯一属性名，这样其他人就不会改写或覆盖你设置的属性值。"></a>实例是唯一且不可改变的；一种唯一标识符，可作用对象的唯一属性名，这样其他人就不会改写或覆盖你设置的属性值。</h5><h6 id="1-数据类型的特点-唯一性，-即使使用同一个变量生产的值也不相等"><a href="#1-数据类型的特点-唯一性，-即使使用同一个变量生产的值也不相等" class="headerlink" title="1.数据类型的特点: 唯一性， 即使使用同一个变量生产的值也不相等"></a>1.数据类型的特点: 唯一性， 即使使用同一个变量生产的值也不相等</h6><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> test = <span class="number">123</span>;</span><br><span class="line"><span class="keyword">let</span> id = <span class="built_in">Symbol</span>(test);</span><br><span class="line"><span class="keyword">let</span> id2 = <span class="built_in">Symbol</span>(test);</span><br><span class="line"><span class="built_in">console</span>.log(id == id2); <span class="comment">//false</span></span><br><span class="line"><span class="keyword">let</span> id3 = <span class="string">&quot;id&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> id4 = <span class="string">&quot;id&quot;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(id3 == id4); <span class="comment">//true</span></span><br></pre></td></tr></table></figure>

<h6 id="2-隐藏性-for…in-object-key-不能访问。"><a href="#2-隐藏性-for…in-object-key-不能访问。" class="headerlink" title="2.隐藏性,for…in,object.key()不能访问。"></a>2.隐藏性,for…in,object.key()不能访问。</h6><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> id = <span class="built_in">Symbol</span>(<span class="string">&quot;id&quot;</span>);</span><br><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">  [id]: <span class="string">&quot;symbol&quot;</span>,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(obj[key]); <span class="comment">//输出为空</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>能够访问的方法: <strong>Object.getOwnPropertySymbol</strong>,会返回一个<em>数组</em>，成员是当前对象的所有用作属性名的 Symbol 值。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> id = <span class="built_in">Symbol</span>(<span class="string">&quot;id&quot;</span>);</span><br><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">  [id]: <span class="string">&quot;symbol&quot;</span>,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">let</span> arr = <span class="built_in">Object</span>.getOwnPropertySymbols(obj);</span><br><span class="line"><span class="built_in">console</span>.log(arr); <span class="comment">//[Symbol(id)]</span></span><br><span class="line"><span class="built_in">console</span>.log(obj[arr[<span class="number">0</span>]]); <span class="comment">//symbol</span></span><br></pre></td></tr></table></figure>

<h6 id="3-可多次使用同一个-symbol-值，官方提供了全局注册并登记的方法：-Symbol-for-。"><a href="#3-可多次使用同一个-symbol-值，官方提供了全局注册并登记的方法：-Symbol-for-。" class="headerlink" title="3.可多次使用同一个 symbol 值，官方提供了全局注册并登记的方法：**Symbol.for()**。"></a>3.可多次使用同一个 symbol 值，官方提供了全局注册并登记的方法：**Symbol.for()**。</h6><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name1 = <span class="built_in">Symbol</span>.for(<span class="string">&quot;name&quot;</span>); <span class="comment">// 检测未创建后新建</span></span><br><span class="line"><span class="keyword">let</span> name2 = <span class="built_in">Symbol</span>.for(<span class="string">&quot;name&quot;</span>); <span class="comment">// 检测已创建后返回</span></span><br><span class="line"><span class="built_in">console</span>.log(name1 == name2); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p>通过这种方法就可以通过参数值获取到全局的 symbol 对象了，反之，可以通过**Symbol.keyFor()**获取到参数值。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">let name1 &#x3D; Symbol.for(&quot;name&quot;);</span><br><span class="line">let name2 &#x3D; Symbol.for(&quot;name&quot;);</span><br><span class="line">console.log(Symbol.keyFor(&quot;name1&quot;)); &#x2F;&#x2F; &#39;name&#39;</span><br><span class="line">console.log(Symbol.keyFor(&quot;name2&quot;)); &#x2F;&#x2F; &#39;name&#39;</span><br></pre></td></tr></table></figure>

<h6 id="5-instanceof的结果为-false"><a href="#5-instanceof的结果为-false" class="headerlink" title="5. instanceof的结果为 false"></a>5. <a target="_blank" rel="noopener" href="https://developer.ibm.com/zh/articles/1306-jiangjj-jsinstanceof/">instanceof</a>的结果为 false</h6><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s = <span class="built_in">Symbol</span>(<span class="string">&quot;foo&quot;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(s <span class="keyword">instanceof</span> <span class="built_in">Symbol</span>); <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<p><strong>注意：在创建 symbol 类型数据 时的参数只是作为标识使用，所以 Symbol() 作为参数也是可以的。</strong></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/10/27/Symbol%E7%9A%84%E7%89%B9%E6%80%A7/" data-id="ckgx2sbiu0002ekv15l46gxxp" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-javascript中null和undefined的区别" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/10/27/javascript%E4%B8%ADnull%E5%92%8Cundefined%E7%9A%84%E5%8C%BA%E5%88%AB/" class="article-date">
  <time datetime="2020-10-27T04:17:35.281Z" itemprop="datePublished">2020-10-27</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/10/27/javascript%E4%B8%ADnull%E5%92%8Cundefined%E7%9A%84%E5%8C%BA%E5%88%AB/">javascript中null和undefined的区别</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="null"><a href="#null" class="headerlink" title="null"></a>null</h3><p>在 JavaScript 中 null 表示什么都没有。null 是只有一个值的特殊类型，所以用来表示一个空对象引用。</p>
<p>用 typeof 检测 null 返回的是 object。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> person = <span class="literal">null</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> person); <span class="comment">//值为 null(空), 但类型为对象</span></span><br></pre></td></tr></table></figure>

<h3 id="undefined"><a href="#undefined" class="headerlink" title="undefined"></a>undefined</h3><p>在 JavaScript 中, <strong>undefined</strong> 是一个没有设置值的变量。</p>
<p><strong>typeof</strong> 一个没有值的变量会返回 <strong>undefined</strong>。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> person;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> person); <span class="comment">// 值为 undefined(空), 类型是undefined</span></span><br><span class="line"><span class="comment">//任何变量都可以通过设置值为 undefined 来清空。 类型为 undefined。</span></span><br><span class="line">person = <span class="literal">undefined</span>; <span class="comment">// 值为 undefined, 类型是undefined</span></span><br></pre></td></tr></table></figure>

<h3 id="null-和-undefined-的区别"><a href="#null-和-undefined-的区别" class="headerlink" title="null 和 undefined 的区别"></a>null 和 undefined 的区别</h3><p>null 和 undefined 的值相等，但类型不等：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="literal">null</span>); <span class="comment">//object</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="literal">undefined</span>); <span class="comment">// undefined</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">null</span> === <span class="literal">undefined</span>); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">null</span> == <span class="literal">undefined</span>); <span class="comment">//true</span></span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/10/27/javascript%E4%B8%ADnull%E5%92%8Cundefined%E7%9A%84%E5%8C%BA%E5%88%AB/" data-id="ckgx2sbiw0003ekv1bqby118j" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-JavaScript数据类型" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/10/27/JavaScript%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/" class="article-date">
  <time datetime="2020-10-27T04:03:39.166Z" itemprop="datePublished">2020-10-27</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/10/27/JavaScript%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/">JavaScript数据类型</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="JavaScript-数据类型"><a href="#JavaScript-数据类型" class="headerlink" title="JavaScript 数据类型"></a>JavaScript 数据类型</h1><h6 id="在-JavaScript-中有-6-种不同的数据类型"><a href="#在-JavaScript-中有-6-种不同的数据类型" class="headerlink" title="在 JavaScript 中有 6 种不同的数据类型:"></a>在 JavaScript 中有 6 种不同的数据类型:</h6><ul>
<li><p>string</p>
</li>
<li><p>number</p>
</li>
<li><p>boolean</p>
</li>
<li><p>object</p>
</li>
<li><p>function</p>
</li>
<li><p>symbol</p>
</li>
</ul>
<h6 id="三种对象类型"><a href="#三种对象类型" class="headerlink" title="三种对象类型:"></a>三种对象类型:</h6><ul>
<li><p>Object</p>
</li>
<li><p>Date</p>
</li>
<li><p>Array</p>
</li>
</ul>
<h6 id="两个不包含任何值的数据类型"><a href="#两个不包含任何值的数据类型" class="headerlink" title="两个不包含任何值的数据类型:"></a>两个不包含任何值的数据类型:</h6><ul>
<li>null</li>
<li>undefined</li>
</ul>
<h2 id="typeof-操作符"><a href="#typeof-操作符" class="headerlink" title="typeof 操作符"></a>typeof 操作符</h2><p>可以使用 <strong>typeof</strong> 操作符来查看 JavaScript 变量的数据类型。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typeof</span> <span class="string">&quot;John&quot;</span>; <span class="comment">// 返回 string</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="number">3.14</span>; <span class="comment">// 返回 number</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">NaN</span>; <span class="comment">// 返回 number</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">false</span>; <span class="comment">// 返回 boolean</span></span><br><span class="line"><span class="keyword">typeof</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]; <span class="comment">// 返回 object</span></span><br><span class="line"><span class="keyword">typeof</span> &#123; <span class="attr">name</span>: <span class="string">&quot;John&quot;</span>, <span class="attr">age</span>: <span class="number">34</span> &#125;; <span class="comment">// 返回 object</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="keyword">new</span> <span class="built_in">Date</span>(); <span class="comment">// 返回 object</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;; <span class="comment">// 返回 function</span></span><br><span class="line"><span class="keyword">typeof</span> myCar; <span class="comment">// 返回 undefined (如果 myCar 没有声明)</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">null</span>; <span class="comment">// 返回 object</span></span><br></pre></td></tr></table></figure>

<h2 id="constructor-属性"><a href="#constructor-属性" class="headerlink" title="constructor 属性"></a>constructor 属性</h2><p><strong>constructor</strong> 属性返回所有 JavaScript 变量的构造函数。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;John&quot;</span>.constructor                 <span class="comment">// 返回函数 String()  &#123; [native code] &#125;</span></span><br><span class="line">(<span class="number">3.14</span>).constructor                 <span class="comment">// 返回函数 Number()  &#123; [native code] &#125;</span></span><br><span class="line"><span class="literal">false</span>.constructor                  <span class="comment">// 返回函数 Boolean() &#123; [native code] &#125;</span></span><br><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>].constructor              <span class="comment">// 返回函数 Array()   &#123; [native code] &#125;</span></span><br><span class="line">&#123;<span class="attr">name</span>:<span class="string">&#x27;John&#x27;</span>, <span class="attr">age</span>:<span class="number">34</span>&#125;.constructor  <span class="comment">// 返回函数 Object()  &#123; [native code] &#125;</span></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>().constructor             <span class="comment">// 返回函数 Date()    &#123; [native code] &#125;</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;.constructor         <span class="comment">// 返回函数 Function()&#123; [native code] &#125;</span></span><br></pre></td></tr></table></figure>

<p>所以我们<strong>可以使用 construtor 属性来判断对象中是否包含其他数据类型</strong>:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">arr = [<span class="string">&quot;A&quot;</span>, <span class="string">&quot;B&quot;</span>, <span class="string">&quot;C&quot;</span>];</span><br><span class="line">str = <span class="string">&quot;abc&quot;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(arr.constructor.toString().indexOf(<span class="string">&quot;Array&quot;</span>) &gt; -<span class="number">1</span>); <span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(str.constructor.toString().indexOf(<span class="string">&quot;String&quot;</span>) &gt; -<span class="number">1</span>); <span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(str.constructor.toString().indexOf(<span class="string">&quot;Array&quot;</span>) &gt; -<span class="number">1</span>); <span class="comment">//false</span></span><br></pre></td></tr></table></figure>

<h3 id="JavaScript-类型转换"><a href="#JavaScript-类型转换" class="headerlink" title="JavaScript 类型转换"></a>JavaScript 类型转换</h3><p>JavaScript 变量可以转换为新变量或其他数据类型：</p>
<p>​ 1.通过 JavaScript 函数</p>
<p>​ 2.通过 JavaScript 自身自动转换</p>
<h6 id="将数字转换为字符串"><a href="#将数字转换为字符串" class="headerlink" title="将数字转换为字符串"></a>将数字转换为字符串</h6><p>​ 全局方法**String()**可以将数字转换为字符串，该方法可用于任何类型的数字，字母，变量，表达式;</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">String</span>(x); <span class="comment">// 将变量 x 转换为字符串并返回</span></span><br><span class="line"><span class="built_in">String</span>(<span class="number">123</span>); <span class="comment">// 将数字 123 转换为字符串并返回</span></span><br><span class="line"><span class="built_in">String</span>(<span class="number">100</span> + <span class="number">23</span>); <span class="comment">// 将数字表达式转换为字符串并返回</span></span><br></pre></td></tr></table></figure>

<h6 id="将字符串转换为数字"><a href="#将字符串转换为数字" class="headerlink" title="将字符串转换为数字"></a>将字符串转换为数字</h6><p>​ 全局方法 Number()可以将字符串转换为数字。</p>
<p>注意：空字符串会转换为 0，其他的字符串会转换为 NaN</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Number</span>(<span class="string">&quot;3.14&quot;</span>); <span class="comment">// 返回 3.14</span></span><br><span class="line"><span class="built_in">Number</span>(<span class="string">&quot; &quot;</span>); <span class="comment">// 返回 0</span></span><br><span class="line"><span class="built_in">Number</span>(<span class="string">&quot;&quot;</span>); <span class="comment">// 返回 0</span></span><br><span class="line"><span class="built_in">Number</span>(<span class="string">&quot;99 88&quot;</span>); <span class="comment">// 返回 NaN</span></span><br></pre></td></tr></table></figure>

<p>​ 一元运算符 + 也可用于将变量转换为数字:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="string">&quot;5&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> y = +x;</span><br><span class="line"><span class="keyword">var</span> z = <span class="string">&quot;zzz&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> a = +z;</span><br><span class="line"><span class="built_in">console</span>.log(x, y, <span class="keyword">typeof</span> x, <span class="keyword">typeof</span> y); <span class="comment">// 5,5,string,number</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> a); <span class="comment">//NaN</span></span><br></pre></td></tr></table></figure>

<h6 id="自动转换类型"><a href="#自动转换类型" class="headerlink" title="自动转换类型"></a>自动转换类型</h6><p>当 JavaScript 尝试操作一个错误的数据类型时，会自动转换为正确的数据类型。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="number">5</span> + <span class="literal">null</span>); <span class="comment">//5     null转换为0</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;5&quot;</span> + <span class="literal">null</span>); <span class="comment">//5null     null转换为&quot;null&quot;</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;5&quot;</span> + <span class="number">1</span>); <span class="comment">//51     1转化为&quot;1&quot;</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;5&quot;</span> - <span class="number">1</span>); <span class="comment">//4    &quot;5&quot;转换为5</span></span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/10/27/JavaScript%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/" data-id="ckgx2sbik0000ekv1gfaq2c3e" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/">&amp;laquo; Prev</a><a class="page-number" href="/">1</a><span class="page-number current">2</span>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/12/23/JS%E7%9A%84%E6%B7%B1%E6%8B%B7%E8%B4%9D%E4%B8%8E%E6%B5%85%E6%8B%B7%E8%B4%9D/">JS的深拷贝与浅拷贝</a>
          </li>
        
          <li>
            <a href="/2020/12/23/PHP%E9%9D%A2%E5%AF%B9%E5%AF%B9%E8%B1%A1/">PHP面对对象</a>
          </li>
        
          <li>
            <a href="/2020/12/23/PHP%E5%8F%98%E9%87%8F/">PHP变量</a>
          </li>
        
          <li>
            <a href="/2020/12/23/VsCode%E9%85%8D%E7%BD%AEPHP%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/">Vscode配置PHP开发环境</a>
          </li>
        
          <li>
            <a href="/2020/12/23/rem/">rem配适</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2021 mu_lou_mu_di<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>